<?php
/**
 * Plugin Name: Malware Scanner
 * Plugin URI:  https://github.com/vplugins/wsp-malware-scanner
 * Description: A powerful malware scanner plugin for WordPress using the Yara framework.
 * Version:     1.0.0
 * Author:      WSP Team
 * License:     MIT
 * License URI: https://opensource.org/licenses/MIT
 * Text Domain: malware-scanner
 * Domain Path: /languages
 */

// If this file is called directly, abort.
if (!defined('WPINC')) {
    die;
}

// Autoload the dependencies
if (file_exists(__DIR__ . '/vendor/autoload.php')) {
    require_once __DIR__ . '/vendor/autoload.php';
}

// Use the plugin's namespace
use VPlugins\MalwareScanner\Init;

// Activation and deactivation hooks
function activate_malware_scanner() {
    Init::activate();
}

function deactivate_malware_scanner() {
    Init::deactivate();
}

// Register the activation and deactivation hooks
register_activation_hook(__FILE__, 'activate_malware_scanner');
register_deactivation_hook(__FILE__, 'deactivate_malware_scanner');

// Initialize all services of the plugin
if (class_exists('VPlugins\\MalwareScanner\\Init')) {
    Init::register_services();
}